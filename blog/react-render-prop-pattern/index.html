<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossOrigin="anonymous"/><style data-href="/app.ac013dd5715c379e87da.css">.fqxoyvp{display:var(--fqxoyvp-0);flex-direction:var(--fqxoyvp-1);justify-content:var(--fqxoyvp-2);align-content:var(--fqxoyvp-3);align-items:var(--fqxoyvp-4);width:var(--fqxoyvp-5);max-width:var(--fqxoyvp-5);padding:var(--fqxoyvp-7);flex-wrap:var(--fqxoyvp-8);box-sizing:border-box}.a1oo7sao{cursor:pointer;padding:4px 10px;display:inline-block;background:var(--a1oo7sao-1);color:var(--a1oo7sao-2)}.a1oo7sao,.i18iqvvt{border:1px solid #182b1a;border-radius:4px;margin:6px}.i18iqvvt{background:#fff;padding:10px 12px;font-size:1em}.i18iqvvt:focus{outline:none}.snfdkht.i18iqvvt{cursor:pointer;background:#519657;color:#fff}.snfdkht.i18iqvvt:hover{color:#38693c}.md69m4h{z-index:9;position:fixed;left:0;top:0;width:100%;height:100%;overflow:auto;background:rgba(0,0,0,.4);display:flex;justify-content:center;align-items:center}.m1qhrv2h{z-index:10;width:500px;max-width:90%;min-height:50%;max-height:90%;background:#f5f4e9;border-radius:6px;padding:16px 0}.c1cih5b{flex:1 1}.fszldm{justify-self:flex-end}.m15xpxwi{color:#2b1d0e;-webkit-letter-spacing:2px;-moz-letter-spacing:2px;-ms-letter-spacing:2px;letter-spacing:2px;margin:0}@media screen and (max-width:40em){.m15xpxwi{font-size:20px}}@media screen and (max-width:20em){.m15xpxwi{font-size:18px}}.h5wsek6{height:4rem;position:fixed;top:0;background:#f5f4e9;z-index:1;box-shadow:0 1px 3px rgba(0,0,0,.05);padding:16px 0;-webkit-text-decoration:none;text-decoration:none;width:100%}.i4awmdj{cursor:pointer;color:#2b1d0e;font-size:1.5rem;margin-right:10px}.fpnldgf{height:4rem;box-shadow:0 -1px 3px rgba(0,0,0,.05)}.tw06ds8{text-align:center}@font-face{font-family:Lato;font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url(/static/Lato-129179c4eeb1d784d3d3ad95e0b35905.woff2),url(https://fonts.gstatic.com/s/lato/v15/S6uyw4BMUTPHjx4wXiWtFCc.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}@font-face{font-family:Cormorant Garamond;font-style:normal;font-weight:400;src:local("Cormorant Garamond Regular"),local("CormorantGaramond-Regular"),url(/static/CormorantGaramond-5733ac592c848166a661326d6d7dd685.woff2),url(https://fonts.gstatic.com/s/cormorantgaramond/v6/co3bmX5slCNuHLi8bLeY9MK7whWMhyjYqXtKky2F7g.woff2) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}body{margin:0;padding:0;font-family:Lato;background:#f5f4e9;color:#2b1d0e;font-size:18px}h1,h2,h3,h4,h5,h6{font-family:Cormorant Garamond}h1,h2{margin-top:4rem}h2{font-weight:600}h3{margin-top:3rem}h4{margin-top:2rem}p{line-height:1.8}a{color:#519657}a,a:link,a:visited{text-decoration:none}a:active,a:hover{color:#38693c}pre{overflow:scroll;border-radius:4px;padding:10px 20px;font-size:.8rem}pre,pre code{background:#444;color:#63e463}pre code{border:none;padding:0;border-radius:0;margin:0}code{color:#3eab3e;background:rgba(99,228,99,.1);border-radius:4px;padding:2px 4px;margin:0 4px;font-size:.9rem}blockquote{border-left:6px solid rgba(179,195,180,.5);padding-left:32px;margin:32px 0}li{margin-bottom:8px}.m18vmv4p{padding:6rem 0 2rem}.m1p35dyn{max-width:95%;width:800px}</style><meta name="generator" content="Gatsby 2.0.31"/><title data-react-helmet="true">Blog | Learn React‚Äôs ‚ÄúRender‚Äù Prop Pattern By Building A Pop-Up Modal</title><link as="script" rel="preload" href="/0-43b751d6e4b3f1db19a5.js"/><link as="script" rel="preload" href="/component---src-templates-article-tsx-b562facbfa4e4e9b45e1.js"/><link as="script" rel="preload" href="/1-3919a7c707d0d50ea252.js"/><link as="script" rel="preload" href="/app-f9877ef84a31f36707be.js"/><link as="script" rel="preload" href="/webpack-runtime-9e8960ffed52386c5cb5.js"/><link rel="preload" href="/static/d/945/path---blog-react-render-prop-pattern-5-bc-5af-WNEfaWfWADshWSoDpwAeUNbSkg.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div direction="column" class="fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:column;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px;--fqxoyvp-8:nowrap"><div class="h5wsek6 fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:nowrap"><div class="fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:center;--fqxoyvp-5:50%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:nowrap"><div style="display:flex;align-items:center"><a href="/"><h2 class="m15xpxwi">Keith Alpichi</h2></a></div></div><div class="fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:row;--fqxoyvp-2:flex-end;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:50%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:nowrap"><a href="https://www.linkedin.com/in/keithalpichi" class="i4awmdj"><i class="fab fa-linkedin"></i></a><a href="https://github.com/keithalpichi" class="i4awmdj"><i class="fab fa-github-square"></i></a><a href="https://twitter.com/keithalpichi" class="i4awmdj"><i class="fab fa-twitter-square"></i></a><a class="i4awmdj" href="/about"><i class="fas fa-info-circle"></i></a></div></div><div class="m18vmv4p fqxoyvp" direction="column" style="--fqxoyvp-0:flex;--fqxoyvp-1:column;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:center;--fqxoyvp-5:100%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:nowrap"><div class="m1p35dyn fqxoyvp" style="--fqxoyvp-0:inline;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:wrap"><h1 style="line-height:1">Learn React‚Äôs ‚ÄúRender‚Äù Prop Pattern By Building A Pop-Up Modal</h1><h3 style="color:#b3c3b4;margin-top:0">Sunday, May 6th 2018</h3><div direction="row" class="fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px;--fqxoyvp-8:wrap"><a color="success" class="a1oo7sao" style="--a1oo7sao-1:#519657;--a1oo7sao-2:#FFFFFF">react</a></div><div style="margin-top:64px"><p>The first time I came across the pattern of the <code>render</code> prop was in v3 of the wonderful React-Router library. That was nearly 2 years ago. I‚Äôve used it here and there but I didn‚Äôt realize all the beauty behind it until I recently learned it was being used as an <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">alternative to HOC‚Äôs</a>. It was also introduced into React 16. The <code>render</code> prop was clearly a pattern I needed to revisit!</p>
<p>Unfortunately for me, my company has been using an older version of React and I‚Äôm so behind with all the updates to React. However, since it‚Äôs just a pattern it doesn‚Äôt matter the version because it can be implemented in just a few lines of code. Let me first define what this pattern is and then we‚Äôll go through an example to see how it works.</p>
<h2>What is a Render Prop?</h2>
<p>In the React documentation it is:</p>
<blockquote>
<p>a simple technique for sharing code between React components using a prop whose value is a function</p>
</blockquote>
<p>Huh? Okay. Let‚Äôs turn to <a href="https://medium.com/@mjackson">Michael Jackson</a>, who explains in his article <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">Use a Render Prop!</a> that a render prop is:</p>
<blockquote>
<p>a function prop that a component uses to know what to render</p>
</blockquote>
<p>Better? The definition may be hard to grasp. So let‚Äôs build something to learn how it works.</p>
<h2>A Simple Pop-Up Modal</h2>
<p>What we‚Äôll build is a simple pop-up modal. Let‚Äôs think about how a modal works:</p>
<ul>
<li>A modal can pop-up (open) by some action, normally displaying in front of or on top of other HTML elements</li>
<li>A modal can close, by itself or by some other action</li>
</ul>
<p>Let‚Äôs now think about how we can modularize this idea:</p>
<ul>
<li>A modal should only care about hiding and displaying in front of or on top of other HTML elements</li>
<li>The React components that use the modal should have the responsibility of what is in the modal and how to interact with it and let the modal perform it‚Äôs duties explained in the previous point</li>
</ul>
<p>Let‚Äôs implement point #2 so we can see how we‚Äôll be using the pop-up modal.</p>
<pre><code class="language-javascript">handleSubmit(e, close) {
  // process submit then call `close`
}
render() {
  return (
    &#x3C;Modal
      render=({ close }) => {
        &#x3C;form onSubmit={(e) => this.handleSubmit(e, close)}>
          &#x3C;input type="text" name="username">
          &#x3C;input type="text" name="password">
          &#x3C;button type="submit>Log In&#x3C;/button>
        &#x3C;/form>
      }
    />
  );
}
</code></pre>
<p>This component renders a <code>Modal</code> component and provides a <code>render</code> function as a prop. You‚Äôll see this in a second but essentially the <code>Modal</code> component will call the <code>render</code> function to render the form content you see above. We are saying, ‚Äúhey Modal, here, take this render function. Render your content, then when you‚Äôre ready call the render function and I‚Äôll take care of what it returns. Just provide me a close method please.‚Äù</p>
<p>Before <code>render</code>, you‚Äôd have most of the logic, state, and HTML elements within the <code>Modal</code> component, or render children inside it, or create instances of HOC‚Äôs. With <code>render</code>, the <strong>parent is given the responsibility to render what logically should be viewed and controlled by them</strong>. This relieves the <code>Modal</code> from containing any irrelevant code besides it‚Äôs logic to open and close.</p>
<p>More interestingly is that <code>Modal</code> can provide basically anything to the <code>render</code> function that the parent can utilize. In this example the <code>render</code> function contains a single object as it‚Äôs argument but you can imagine what else could be provided; especially in a more complex example.</p>
<p>Let‚Äôs see what the <code>Modal</code> class looks like.</p>
<pre><code class="language-javascript">class Modal extends React.Component {
  constructor(props) {
    super(props)
    this.state = { open: false };
  }
  open() {
    this.setState({ open: true });
  }
  close() {
    this.setState({ open: false });
  }
  render() {
    const { open } = this.state;
    const { render } = this.props;
    return (
      &#x3C;div>
        &#x3C;button onClick={this.open}>Open&#x3C;/button>
        {open &#x26;&#x26;
          &#x3C;div className="modal">
            &#x3C;div className="bg" />
            &#x3C;div className="fg">
              {render({ close: this.close })}
            &#x3C;/div>
          &#x3C;/div>
        }
      &#x3C;/div>
    );  
  }
}
</code></pre>
<p>Let‚Äôs assume all the styling for positioning, z-indexes, and displays are correctly set. I‚Äôve placed some CSS classes to help explain what‚Äôs going on. Let‚Äôs review what we have here:</p>
<ul>
<li>initially the modal is not opened and only renders a button. The div with the class <code>modal</code> will not display since the modal state is not open.
once the button is clicked the modal will open and the div with the class <code>modal</code> will display. The div with the class <code>bg</code> will cover and blur the entire window while the div with the class <code>fg</code> will contain the modal content.</li>
<li>the <code>render</code> function will get called with a single object with the <code>close</code> function as one of it‚Äôs properties.</li>
</ul>
<p>Pay close attention to the <code>render</code> prop. By calling this function with the <code>close</code> method, the modal is essentially allowing the parent to close the modal. It will be the parent components job to call at a later, more opportune time. In the example earlier, the parent component called <code>close</code> after the form was submitted. Sweet huh?</p>
<h2>Let‚Äôs Review Our Example</h2>
<p>The modal achieves it‚Äôs goals of opening and closing. It also shares this logic with parent components so they, too, can support those goals.</p>
<p>The parent component provides, what I like to call, a ‚Äúrender callback prop‚Äù that allows us to achieve a few things:</p>
<ul>
<li>providing the modal component with a callback helps achieve the concept of separation of concern.</li>
<li>aesthetically, the code we want to see in this component stays within it. It‚Äôs not in the modal component; a component that may exist in another file. To debug or visualize how the HTML content will display it is all in one place in the <code>render</code> function of the component.</li>
<li>since the <code>render</code> callback prop is defined in the parent component it will continue to have access to it‚Äôs scope. This allowed the parent to call <code>this.handleSubmit</code> and at the same time, use variables provided by the modal.
the render callback prop was provided in-line. We could have easily created another component to utilize React‚Äôs lifecycle methods and provide that instead.</li>
</ul>
<h2>Conclusion</h2>
<ul>
<li><code>render</code> prop is another tool to add to your tool belt; use it when you need to. It‚Äôs use cases are similar to HOC‚Äôs but the approach is different.</li>
<li>remember that every time the child‚Äôs <code>render</code> function is called so does the <code>render</code> callback prop. Furthermore, every render of the parent component adds to this number of renders as well.</li>
</ul>
<h2>Additional Resources:</h2>
<ul>
<li><a href="https://reactjs.org/docs/render-props.html">https://reactjs.org/docs/render-props.html</a></li>
<li><a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/Route/render-func">https://reacttraining.com/react-router/web/api/Route/render-func</a></li>
<li><a href="https://reactjs.org/docs/higher-order-components.html">https://reactjs.org/docs/higher-order-components.html</a></li>
</ul></div><p>Thank you for reading my article. Make sure to check out some related articles by following one of the tags below.</p><div direction="row" class="fqxoyvp" style="--fqxoyvp-0:flex;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px;--fqxoyvp-8:wrap"><a color="success" class="a1oo7sao" style="--a1oo7sao-1:#519657;--a1oo7sao-2:#FFFFFF">all tags</a><a color="success" class="a1oo7sao" style="--a1oo7sao-1:#519657;--a1oo7sao-2:#FFFFFF">react</a></div></div></div><div class="fpnldgf fqxoyvp" style="--fqxoyvp-0:inline;--fqxoyvp-1:row;--fqxoyvp-2:flex-start;--fqxoyvp-3:stretch;--fqxoyvp-4:stretch;--fqxoyvp-5:100%;--fqxoyvp-7:0px 16px;--fqxoyvp-8:wrap"><p class="tw06ds8">Aloha, World ü§ô</p></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-article-tsx","jsonName":"blog-react-render-prop-pattern-5bc","path":"/blog/react-render-prop-pattern"};window.dataPath="945/path---blog-react-render-prop-pattern-5-bc-5af-WNEfaWfWADshWSoDpwAeUNbSkg";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app.ac013dd5715c379e87da.css","/app-f9877ef84a31f36707be.js"],"component---src-templates-article-tsx":["/component---src-templates-article-tsx-b562facbfa4e4e9b45e1.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-560cd5e188a2c4ca4464.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx.4abde67b4aa83d42a197.css","/component---src-pages-404-tsx-c7b8eb1860589dcbc96e.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-2766eef2bf52db10b8d0.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx.67ee1bf9ca9319deaa27.css","/component---src-pages-index-tsx-5a4d69ba4bcff4557c81.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-9a553f1170f6aa152689.js"]};/*]]>*/</script><script src="/webpack-runtime-9e8960ffed52386c5cb5.js" async=""></script><script src="/app-f9877ef84a31f36707be.js" async=""></script><script src="/1-3919a7c707d0d50ea252.js" async=""></script><script src="/component---src-templates-article-tsx-b562facbfa4e4e9b45e1.js" async=""></script><script src="/0-43b751d6e4b3f1db19a5.js" async=""></script></body></html>