<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"/><link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&amp;family=Roboto:ital,wght@0,300;0,400;0,700;0,900;1,500&amp;display=swap" rel="stylesheet"/><style data-href="/styles.dd504296c4fc23c7e4ca.css">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}b,strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}small{font-size:80%}button{font-family:inherit;font-size:100%;line-height:1.15;margin:0;overflow:visible;text-transform:none;-webkit-appearance:button}button::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring{outline:1px dotted ButtonText}[hidden]{display:none}h1,h2,h3,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}ul{margin:0;padding:0;list-style:none}html{font-family:Roboto,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*{box-sizing:border-box;border:0 solid #e2e8f0}[role=button],button{cursor:pointer}h1,h2,h3{font-size:inherit;font-weight:inherit}a{text-decoration:inherit}a,button{color:inherit}button{padding:0;line-height:inherit}code,pre{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}svg{display:block;vertical-align:middle}h1{line-height:1;font-size:2.25rem;--text-opacity:1;color:#f7c257;color:rgba(247,194,87,var(--text-opacity));font-family:Bebas Neue,Roboto,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin-top:3rem;margin-bottom:2rem}h2{font-size:1.875rem;margin-top:2rem}h2,h3{line-height:1;--text-opacity:1;color:#19445c;color:rgba(25,68,92,var(--text-opacity));font-family:Bebas Neue,Roboto,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin-bottom:1rem}h3{font-size:1.25rem;margin-top:1.5rem}@media (min-width:1024px){h1{font-size:4rem}h2{font-size:2.25rem}h3{font-size:1.5rem}}p{margin-top:1rem;margin-bottom:1rem;--text-opacity:1;color:#123346;color:rgba(18,51,70,var(--text-opacity))}li{margin-left:2rem;list-style-type:circle}code{padding:0 .25rem;margin:0}code,pre{white-space:pre-wrap;overflow:scroll;background:#19445c;color:#fff;border-radius:.125rem}pre{padding:.5rem;margin:2rem 0}.text-active{color:#88c4c8}.main{display:flex;flex-direction:column;margin:3rem auto auto;max-width:95%;width:75rem}#aloha{margin:16rem auto auto;max-width:90%;width:40rem}.wave{animation:wave 7s cubic-bezier(.36,.45,.63,.53) infinite;transform:translateZ(0)}.tags{display:flex;flex-direction:row;flex-wrap:wrap;margin-top:2.5rem;margin-bottom:2.5rem}.bg-transparent{background-color:transparent}.bg-cream{--bg-opacity:1;background-color:#fdf7ec;background-color:rgba(253,247,236,var(--bg-opacity))}.bg-burnt{--bg-opacity:1;background-color:#dc885d;background-color:rgba(220,136,93,var(--bg-opacity))}.bg-primary{--bg-opacity:1;background-color:#88c4c8;background-color:rgba(136,196,200,var(--bg-opacity))}.bg-secondary{--bg-opacity:1;background-color:#19445c;background-color:rgba(25,68,92,var(--bg-opacity))}.bg-success{--bg-opacity:1;background-color:#9ca97d;background-color:rgba(156,169,125,var(--bg-opacity))}.bg-danger{--bg-opacity:1;background-color:#dc885d;background-color:rgba(220,136,93,var(--bg-opacity))}.bg-info{--bg-opacity:1;background-color:#f7c257;background-color:rgba(247,194,87,var(--bg-opacity))}.hover\:border-white:hover{--border-opacity:1;border-color:#fff;border-color:rgba(255,255,255,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-full{border-radius:9999px}.border{border-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.flex-grow{flex-grow:1}.flex-shrink-0{flex-shrink:0}.font-semibold{font-weight:600}.h-3{height:.75rem}.h-4{height:1rem}.text-sm{font-size:.875rem}.leading-5{line-height:1.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mt-0{margin-top:0}.mb-0{margin-bottom:0}.mr-4{margin-right:1rem}.mr-6{margin-right:1.5rem}.mb-12{margin-bottom:3rem}.mt-32{margin-top:8rem}.p-0{padding:0}.p-4{padding:1rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.left-0{left:0}.fill-current{fill:currentColor}.text-center{text-align:center}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.text-navy{--text-opacity:1;color:#19445c;color:rgba(25,68,92,var(--text-opacity))}.text-ocean{--text-opacity:1;color:#246183;color:rgba(36,97,131,var(--text-opacity))}.text-primary{--text-opacity:1;color:#88c4c8;color:rgba(136,196,200,var(--text-opacity))}.hover\:text-white:hover{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.w-3{width:.75rem}.w-4{width:1rem}.w-full{width:100%}.gap-x-0{grid-column-gap:0;column-gap:0}.gap-y-16{grid-row-gap:4rem;row-gap:4rem}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.col-span-2{grid-column:span 2/span 2}@keyframes spin{to{transform:rotate(1turn)}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes pulse{50%{opacity:.5}}@keyframes bounce{0%,to{transform:translateY(-25%);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes wave{0%{margin-left:0}to{margin-left:-1600px}}@media (min-width:1024px){.lg\:bg-transparent{background-color:transparent}.lg\:block{display:block}.lg\:inline-block{display:inline-block}.lg\:flex{display:flex}.lg\:hidden{display:none}.lg\:flex-row{flex-direction:row}.lg\:items-center{align-items:center}.lg\:justify-end{justify-content:flex-end}.lg\:flex-grow{flex-grow:1}.lg\:h-8{height:2rem}.lg\:mt-0{margin-top:0}.lg\:py-0{padding-top:0;padding-bottom:0}.lg\:w-8{width:2rem}.lg\:w-auto{width:auto}.lg\:gap-x-12{grid-column-gap:3rem;column-gap:3rem}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.lg\:col-span-1{grid-column:span 1/span 1}}</style><meta name="generator" content="Gatsby 2.24.85"/><title data-react-helmet="true">Blog | Learn React’s “Render” Prop Pattern By Building A Pop-Up Modal</title><link rel="icon" href="/favicon.svg?v=3e33d61cff0300426a5d0e1552cad9af" type="image/svg+xml"/><link rel="icon" href="/favicon-32x32.png?v=3e33d61cff0300426a5d0e1552cad9af" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=3e33d61cff0300426a5d0e1552cad9af"/><link as="script" rel="preload" href="/webpack-runtime-baea76c2dae03d1d4674.js"/><link as="script" rel="preload" href="/styles-755093da0c07f4b49226.js"/><link as="script" rel="preload" href="/framework-a445a942d18bd3dc90d1.js"/><link as="script" rel="preload" href="/app-e072e1a7bd3ce2690acf.js"/><link as="script" rel="preload" href="/ec00cb3cf49bfda73da655732e2bb5ae6d56dc86-e59a138c65365fd29065.js"/><link as="script" rel="preload" href="/c5d3cdb376881942a12d5213aa9a7735cfac92ef-f6f49297a1a856bddb11.js"/><link as="script" rel="preload" href="/component---src-templates-article-tsx-45d21322c7059c528474.js"/><link as="fetch" rel="preload" href="/page-data/blog/react-render-prop-pattern/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body class="bg-cream"><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="fixed top-0 left-0 right-0 flex bg-burnt lg:bg-transparent items-center justify-between flex-wrap p-4"><div class="flex items-center flex-shrink-0 text-navy mr-6"><svg class="cursor-pointer fill-current text-navy" width="25" height="25" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.6667 0H0L8.33333 16.6667L16.6667 0Z"></path><path d="M33.3333 0H16.6666L25 16.6667L33.3333 0Z"></path><path d="M50 0H33.3334L41.6667 16.6667L50 0Z"></path><path d="M16.6667 16.6667H0L8.33333 33.3333L16.6667 16.6667Z"></path><path d="M33.3333 16.6667H16.6666L25 33.3333L33.3333 16.6667Z"></path><path d="M50 16.6667H33.3334L41.6667 33.3333L50 16.6667Z"></path><path d="M16.6667 33.3333H0L8.33333 50L16.6667 33.3333Z"></path><path d="M33.3333 33.3333H16.6666L25 50L33.3333 33.3333Z"></path><path d="M50 33.3333H33.3334L41.6667 50L50 33.3333Z"></path></svg></div></nav><div class="main"><h1 class="mb-0">Learn React’s “Render” Prop Pattern By Building A Pop-Up Modal</h1><p>Sunday, May 6th, 2018</p><div class="tags"><span class="bg-transparent text-primary cursor-pointer px-2 inline-flex text-sm leading-5 font-semibold rounded-full">react</span></div><div><p>The first time I came across the pattern of the <code>render</code> prop was in v3 of the wonderful React-Router library. That was nearly 2 years ago. I’ve used it here and there but I didn’t realize all the beauty behind it until I recently learned it was being used as an <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">alternative to HOC’s</a>. It was also introduced into React 16. The <code>render</code> prop was clearly a pattern I needed to revisit!</p>
<p>Unfortunately for me, my company has been using an older version of React and I’m so behind with all the updates to React. However, since it’s just a pattern it doesn’t matter the version because it can be implemented in just a few lines of code. Let me first define what this pattern is and then we’ll go through an example to see how it works.</p>
<h2>What is a Render Prop?</h2>
<p>In the React documentation it is:</p>
<blockquote>
<p>a simple technique for sharing code between React components using a prop whose value is a function</p>
</blockquote>
<p>Huh? Okay. Let’s turn to <a href="https://medium.com/@mjackson">Michael Jackson</a>, who explains in his article <a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">Use a Render Prop!</a> that a render prop is:</p>
<blockquote>
<p>a function prop that a component uses to know what to render</p>
</blockquote>
<p>Better? The definition may be hard to grasp. So let’s build something to learn how it works.</p>
<h2>A Simple Pop-Up Modal</h2>
<p>What we’ll build is a simple pop-up modal. Let’s think about how a modal works:</p>
<ul>
<li>A modal can pop-up (open) by some action, normally displaying in front of or on top of other HTML elements</li>
<li>A modal can close, by itself or by some other action</li>
</ul>
<p>Let’s now think about how we can modularize this idea:</p>
<ul>
<li>A modal should only care about hiding and displaying in front of or on top of other HTML elements</li>
<li>The React components that use the modal should have the responsibility of what is in the modal and how to interact with it and let the modal perform it’s duties explained in the previous point</li>
</ul>
<p>Let’s implement point #2 so we can see how we’ll be using the pop-up modal.</p>
<pre><code class="language-javascript">handleSubmit(e, close) {
  // process submit then call `close`
}
render() {
  return (
    &#x3C;Modal
      render=({ close }) => {
        &#x3C;form onSubmit={(e) => this.handleSubmit(e, close)}>
          &#x3C;input type="text" name="username">
          &#x3C;input type="text" name="password">
          &#x3C;button type="submit>Log In&#x3C;/button>
        &#x3C;/form>
      }
    />
  );
}
</code></pre>
<p>This component renders a <code>Modal</code> component and provides a <code>render</code> function as a prop. You’ll see this in a second but essentially the <code>Modal</code> component will call the <code>render</code> function to render the form content you see above. We are saying, “hey Modal, here, take this render function. Render your content, then when you’re ready call the render function and I’ll take care of what it returns. Just provide me a close method please.”</p>
<p>Before <code>render</code>, you’d have most of the logic, state, and HTML elements within the <code>Modal</code> component, or render children inside it, or create instances of HOC’s. With <code>render</code>, the <strong>parent is given the responsibility to render what logically should be viewed and controlled by them</strong>. This relieves the <code>Modal</code> from containing any irrelevant code besides it’s logic to open and close.</p>
<p>More interestingly is that <code>Modal</code> can provide basically anything to the <code>render</code> function that the parent can utilize. In this example the <code>render</code> function contains a single object as it’s argument but you can imagine what else could be provided; especially in a more complex example.</p>
<p>Let’s see what the <code>Modal</code> class looks like.</p>
<pre><code class="language-javascript">class Modal extends React.Component {
  constructor(props) {
    super(props)
    this.state = { open: false };
  }
  open() {
    this.setState({ open: true });
  }
  close() {
    this.setState({ open: false });
  }
  render() {
    const { open } = this.state;
    const { render } = this.props;
    return (
      &#x3C;div>
        &#x3C;button onClick={this.open}>Open&#x3C;/button>
        {open &#x26;&#x26;
          &#x3C;div className="modal">
            &#x3C;div className="bg" />
            &#x3C;div className="fg">
              {render({ close: this.close })}
            &#x3C;/div>
          &#x3C;/div>
        }
      &#x3C;/div>
    );  
  }
}
</code></pre>
<p>Let’s assume all the styling for positioning, z-indexes, and displays are correctly set. I’ve placed some CSS classes to help explain what’s going on. Let’s review what we have here:</p>
<ul>
<li>initially the modal is not opened and only renders a button. The div with the class <code>modal</code> will not display since the modal state is not open.
once the button is clicked the modal will open and the div with the class <code>modal</code> will display. The div with the class <code>bg</code> will cover and blur the entire window while the div with the class <code>fg</code> will contain the modal content.</li>
<li>the <code>render</code> function will get called with a single object with the <code>close</code> function as one of it’s properties.</li>
</ul>
<p>Pay close attention to the <code>render</code> prop. By calling this function with the <code>close</code> method, the modal is essentially allowing the parent to close the modal. It will be the parent components job to call at a later, more opportune time. In the example earlier, the parent component called <code>close</code> after the form was submitted. Sweet huh?</p>
<h2>Let’s Review Our Example</h2>
<p>The modal achieves it’s goals of opening and closing. It also shares this logic with parent components so they, too, can support those goals.</p>
<p>The parent component provides, what I like to call, a “render callback prop” that allows us to achieve a few things:</p>
<ul>
<li>providing the modal component with a callback helps achieve the concept of separation of concern.</li>
<li>aesthetically, the code we want to see in this component stays within it. It’s not in the modal component; a component that may exist in another file. To debug or visualize how the HTML content will display it is all in one place in the <code>render</code> function of the component.</li>
<li>since the <code>render</code> callback prop is defined in the parent component it will continue to have access to it’s scope. This allowed the parent to call <code>this.handleSubmit</code> and at the same time, use variables provided by the modal.
the render callback prop was provided in-line. We could have easily created another component to utilize React’s lifecycle methods and provide that instead.</li>
</ul>
<h2>Conclusion</h2>
<ul>
<li><code>render</code> prop is another tool to add to your tool belt; use it when you need to. It’s use cases are similar to HOC’s but the approach is different.</li>
<li>remember that every time the child’s <code>render</code> function is called so does the <code>render</code> callback prop. Furthermore, every render of the parent component adds to this number of renders as well.</li>
</ul>
<h2>Additional Resources:</h2>
<ul>
<li><a href="https://reactjs.org/docs/render-props.html">https://reactjs.org/docs/render-props.html</a></li>
<li><a href="https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce">https://cdb.reacttraining.com/use-a-render-prop-50de598f11ce</a></li>
<li><a href="https://reacttraining.com/react-router/web/api/Route/render-func">https://reacttraining.com/react-router/web/api/Route/render-func</a></li>
<li><a href="https://reactjs.org/docs/higher-order-components.html">https://reactjs.org/docs/higher-order-components.html</a></li>
</ul></div><p>Thank you for reading my article. Make sure to check out some related articles by following one of the tags below.</p><div class="tags"><span class="bg-transparent text-primary cursor-pointer px-2 inline-flex text-sm leading-5 font-semibold rounded-full">all tags</span><span class="bg-transparent text-primary cursor-pointer px-2 inline-flex text-sm leading-5 font-semibold rounded-full">react</span></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/react-render-prop-pattern";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-140e3b63fc9834dd4e0f.js"],"app":["/app-e072e1a7bd3ce2690acf.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-a6eb387dc88ff32c3d41.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-adce03e864a54a1ccf21.js"],"component---src-templates-article-tsx":["/component---src-templates-article-tsx-45d21322c7059c528474.js"],"component---src-templates-tags-tsx":["/component---src-templates-tags-tsx-036cd4c71a6991218b9c.js"]};/*]]>*/</script><script src="/polyfill-140e3b63fc9834dd4e0f.js" nomodule=""></script><script src="/component---src-templates-article-tsx-45d21322c7059c528474.js" async=""></script><script src="/c5d3cdb376881942a12d5213aa9a7735cfac92ef-f6f49297a1a856bddb11.js" async=""></script><script src="/ec00cb3cf49bfda73da655732e2bb5ae6d56dc86-e59a138c65365fd29065.js" async=""></script><script src="/app-e072e1a7bd3ce2690acf.js" async=""></script><script src="/framework-a445a942d18bd3dc90d1.js" async=""></script><script src="/styles-755093da0c07f4b49226.js" async=""></script><script src="/webpack-runtime-baea76c2dae03d1d4674.js" async=""></script></body></html>